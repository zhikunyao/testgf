# 🟢 方块冒险 (Square Adventure)

一个基于 Python 和 Pygame 开发的2D冒险收集游戏，控制一个可爱的绿色小方块在充满挑战的正方形地图上收集金币。

## 🎮 游戏特色

### 核心玩法
- **绿色英雄**：控制绿色方块在地图中自由移动
- **收集挑战**：收集所有黄色金币来获得分数和通关
- **障碍规避**：避开随机生成的黑色墙体
- **完整中文界面**：支持中文显示的用户界面
- **无限循环模式**: 收集完所有金币后会自动生成新的金币，游戏永不结束
- **AI怪物系统**: 3个不同颜色的怪物方块，具有智能移动和觅食行为
- **动态竞争**: 怪物会与玩家竞争收集金币
- **碰撞惩罚**: 碰到怪物会失去已收集的金币
- **智能墙体**: 墙体布局避免死路，确保所有区域都可达

### 视觉设计
- **绿色主角**：可爱的绿色小方块，带有蓝色眼睛
- **黑色墙体**：随机生成的不可穿越障碍物
- **黄色金币**：收集目标，触碰即可获得分数
- **清晰边界**：黑色边框定义游戏区域
- **网格背景**：淡灰色网格线提供视觉参考
- **中文界面**：完整的中文用户界面

### 游戏机制
- **智能碰撞**：精确的墙体和金币碰撞检测
- **得分系统**：每个金币价值10分
- **胜利条件**：收集完所有金币即可过关
- **重新开始**：R键快速重置游戏

## 🚀 运行游戏

### 系统要求
- Python 3.7+
- Pygame 2.0+

### 启动方法
```bash
# 切换到游戏目录
cd square-adventure

# 激活虚拟环境（如果使用）
source ../venv/bin/activate

# 运行游戏
python square_adventure.py
```

## 🎯 游戏控制

### 基本移动
- **方向键** ⬅️ ➡️ ⬆️ ⬇️：移动绿色方块
- **WASD键**：替代移动方式
  - W：向上
  - A：向左  
  - S：向下
  - D：向右

### 游戏功能
- **R键**：重新开始游戏
- **ESC键**：退出游戏
- **X按钮**：关闭游戏窗口

## 🎲 游戏元素

### 📦 绿色方块（玩家）
- **尺寸**：28×28像素
- **移动速度**：每帧4像素
- **特色**：蓝色眼睛，白色边框
- **能力**：可以收集金币，不能穿过墙体

### 🧱 黑色墙体（障碍物）
- **数量**：随机生成15个
- **尺寸**：30×30像素（网格对齐）
- **特性**：不可穿越，白色边框
- **生成**：避开玩家起始位置

### 🪙 黄色金币（收集品）
- **数量**：随机生成20个
- **尺寸**：半径8像素的圆形
- **分值**：每个10分
- **特效**：双层黄色，内层金色

### 怪物方块
- **红色怪物**: 智能AI，随机移动
- **紫色怪物**: 智能AI，随机移动  
- **橙色怪物**: 智能AI，随机移动
- **移动速度**: 较慢，但会持续移动
- **AI行为**: 
  - 随机方向移动
  - 1-3秒随机改变方向
  - 碰到墙体或边界时转向
  - 会主动收集金币

## 🏆 游戏目标

### 主要目标
1. **收集所有金币**：地图上总共有20个黄色金币
2. **避开墙体**：黑色墙体无法穿越
3. **获得高分**：每个金币10分，满分200分
4. **完成关卡**：收集完所有金币显示胜利信息
5. **无限循环**: 收集完所有金币后会自动生成新的金币

### 策略技巧
- 📍 **路径规划**：观察墙体分布，规划最优路线
- 🎯 **系统收集**：按区域收集金币，避免遗漏
- ⚡ **快速移动**：利用连续按键实现快速移动
- 🔄 **重新开始**：如果路线不理想，按R键重新生成

## 🔧 技术特点

### 游戏架构
- **面向对象设计**：Player、Wall、Coin类清晰分离
- **随机生成算法**：智能避免重叠的墙体和金币生成
- **碰撞检测系统**：精确的矩形和圆形碰撞判定
- **中文字体支持**：自动检测系统中文字体

### 核心算法
```python
# 智能随机生成
def generate_walls(self):
    attempts = 0
    while len(self.walls) < WALL_COUNT and attempts < 100:
        # 网格对齐生成
        # 避开玩家位置
        # 防止重叠
        
# 碰撞检测
def move(self, dx, dy, walls):
    new_rect = pygame.Rect(new_x, new_y, self.size, self.size)
    for wall in walls:
        if new_rect.colliderect(wall.get_rect()):
            can_move = False
```

### 性能优化
- **60FPS流畅运行**：优化的游戏循环
- **高效渲染**：分层绘制系统
- **智能生成**：限制生成尝试次数防止死循环
- **内存管理**：及时清理无效对象

## 🎨 游戏设计细节

### 尺寸规格
- **窗口大小**：800×800像素（正方形）
- **游戏区域**：600×600像素
- **绿色方块**：28×28像素
- **墙体**：30×30像素（网格对齐）
- **金币**：半径8像素
- **移动速度**：每帧4像素
- **网格大小**：30×30像素

### 颜色方案
- **背景色**：深灰色 (64, 64, 64)
- **地图区域**：白色 (255, 255, 255)
- **边框**：黑色 (0, 0, 0)
- **网格线**：淡灰色 (200, 200, 200)
- **绿色方块**：绿色 (0, 200, 0)
- **蓝色眼睛**：蓝色 (0, 100, 255)
- **黑色墙体**：黑色 (0, 0, 0)
- **黄色金币**：黄色 (255, 255, 0) + 金色 (255, 215, 0)

### 用户界面
- **中文标题**："方块冒险"
- **实时分数显示**：左上角
- **剩余金币计数**：动态更新
- **位置信息**：右上角坐标显示
- **控制说明**：左下角操作指南
- **胜利提示**：屏幕中央黄色大字

## 🎯 游戏策略

1. **快速收集**: 利用移动速度优势抢在怪物前面收集金币
2. **避免碰撞**: 观察怪物移动模式，预测其路径
3. **区域控制**: 利用墙体阻挡怪物，创造收集机会
4. **持续游戏**: 无限循环模式，挑战更高分数

## 📈 版本特色

- **v2.0**: 添加怪物系统和无限循环模式
- **智能对手**: 3个AI怪物提供挑战
- **动态平衡**: 怪物竞争增加游戏难度
- **无限挑战**: 移除过关限制，追求更高分数

## 🔮 扩展可能性

### 游戏内容扩展
- 🏅 **多关卡设计**：不同难度的关卡
- ⭐ **特殊金币**：高分值的特殊收集品
- 👾 **移动敌人**：增加动态挑战
- 🔑 **钥匙门系统**：解谜元素
- ⏰ **时间限制**：增加紧迫感

### 视觉效果升级
- ✨ **粒子效果**：收集金币时的特效
- 🌈 **动画系统**：更流畅的移动动画
- 🎵 **音效音乐**：丰富的听觉体验
- 🌟 **光影效果**：更真实的视觉反馈

### 技术功能
- 💾 **存档系统**：保存游戏进度
- 🏆 **排行榜**：记录最佳成绩
- 🎮 **手柄支持**：多种输入方式
- 📱 **触屏适配**：移动设备支持

## 🛠️ 开发说明

### 文件结构
```
square-adventure/
├── square_adventure.py        # 主游戏文件
└── README_square_adventure.md # 说明文档
```

### 主要类
- **Player类**：处理玩家角色的移动、绘制和碰撞
- **Wall类**：管理墙体的位置和绘制
- **Coin类**：处理金币的显示和收集状态
- **Game类**：管理游戏循环、事件处理和界面绘制

### 开发亮点
- 🎯 **智能随机生成**：确保游戏公平性和可玩性
- 🖼️ **中文字体自适应**：跨平台中文显示支持
- ⚡ **高性能碰撞检测**：流畅的游戏体验
- 🎮 **直观的操作体验**：简单易学的控制方式

这个增强版的方块冒险游戏为你提供了一个完整的收集挑战体验，结合了策略规划和快速反应的乐趣！ 